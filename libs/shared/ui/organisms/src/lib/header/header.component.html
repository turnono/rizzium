<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start" *ngIf="showBackButton">
      <ion-back-button defaultHref="/home" icon="arrow-back-outline"></ion-back-button>
    </ion-buttons>

    <ion-title>{{ title }}</ion-title>

    <ion-buttons slot="end">
      <!-- Auth toggle button when not authenticated -->
      <ion-button *ngIf="!(isAuthenticated$ | async)" (click)="toggleAuthMode()" data-cy="auth-toggle">
        {{ authMode === 'login' ? 'Register' : 'Login' }}
      </ion-button>

      <!-- Logout button when authenticated -->
      <ion-button *ngIf="(isAuthenticated$ | async)" (click)="logout()" data-cy="logout-button">
        <ion-icon slot="icon-only" name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

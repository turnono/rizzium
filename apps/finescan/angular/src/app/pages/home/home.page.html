<ion-header class="ion-no-border">
  <ion-toolbar color="primary">
    <ion-title>
      <div class="ion-text-left" style="display: flex; align-items: center;">
        <img src="assets/finescan_logo.png" alt="FineScan AI Logo"
          [style]="{'height': isMobile ? '24px' : '28px', 'margin-right': isMobile ? '6px' : '8px'}" />
        <ion-text>FineScan AI</ion-text>
      </div>
    </ion-title>
    <ion-buttons slot="end">
      @if (isLoggedIn$ | async) {
      <ion-button (click)="showUserMenu($event)" fill="clear">
        @if (photoURL$ | async) {
        <ion-avatar slot="start" [style]="{'width': isMobile ? '24px' : '28px', 'height': isMobile ? '24px' : '28px'}">
          <img [src]="photoURL$ | async" alt="Profile" />
        </ion-avatar>
        } @else {
        <ion-icon slot="start" name="person-circle"></ion-icon>
        }
        <ion-label class="ion-hide-sm-down">{{ displayName$ | async | slice:0:10 }}</ion-label>
      </ion-button>
      } @else {
      <ion-button (click)="navigateToLogin()" fill="clear" [style]="{'font-size': isMobile ? '0.85em' : '0.9em'}">
        <ion-icon slot="start" name="log-in"></ion-icon>
        <ion-label>Sign In</ion-label>
      </ion-button>
      }
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [class]="isMobile ? 'ion-padding-horizontal ion-no-padding-vertical' : 'ion-padding-horizontal'"
  style="--padding-top: 8px;">
  <!-- Offline Warning -->
  @if (!isOnline) {
  <ion-item color="warning" lines="none"
    [style]="{'border-radius': '8px', '--min-height': isMobile ? '32px' : '36px', 'margin': isMobile ? '4px 0 8px' : '8px 0 12px', '--padding-top': '0', '--padding-bottom': '0'}">
    <ion-icon name="warning" slot="start"
      [style]="{'font-size': isMobile ? '14px' : '16px', 'margin-inline-end': '8px'}"></ion-icon>
    <ion-label [style]="{'font-size': isMobile ? '0.8em' : '0.85em'}">You're currently offline. Some features may be
      limited.</ion-label>
  </ion-item>
  }

  <!-- Hero Section -->
  <ion-card class="ion-no-margin ion-margin-top" [style]="{
      'border-radius': '12px',
       'overflow': 'hidden',
      'margin-bottom': isMobile ? '8px' : '16px',
      'background': 'var(--ion-color-secondary)',
      'margin': isMobile ? '16px' : '1% 25%'
    }">
    <ion-card-content class="ion-text-center" [style]="{'padding': isMobile ? '24px 16px' : '32px 24px'}">
      <h1 style="color: white; font-size: 1.6em; font-weight: 600; margin: 0 0 8px 0;">Intelligent Document Analysis
      </h1>
      <p style="color: rgba(255,255,255,0.9); font-size: 1em; margin: 0; line-height: 1.4;">
        AI-powered document analysis for sensitive information detection
      </p>
    </ion-card-content>
  </ion-card>

  <!-- Features Grid -->
  <ion-grid [style]="{'padding': isMobile ? '0' : '16px'}">
    <ion-row class="ion-justify-content-center">
      <ion-col [size]="isMobile ? '4' : '12'" [sizeMd]="4" [class]="isMobile ? 'ion-no-padding' : 'ion-padding'">
        <ion-item lines="none" class="ion-text-center feature-item" style="--background: transparent; margin: 2px;">
          <ion-label>
            <ion-icon color="success" name="shield-checkmark"
              [style]="{'font-size': isMobile ? '2em' : '3em', 'margin-bottom': isMobile ? '0' : '16px'}"></ion-icon>
            <h2
              [style]="{'font-size': isMobile ? '1em' : '1.2em', 'font-weight': '600', 'margin': isMobile ? '4px 0' : '8px 0'}">
              Safe & Secure</h2>
            <p
              [style]="{'color': 'var(--ion-color-medium)', 'font-size': isMobile ? '0.8em' : '1em', 'margin': isMobile ? '0' : '8px 0'}">
              @if (isMobile) {
              Bank-level security
              } @else {
              Enterprise-grade encryption and security
              }
            </p>
          </ion-label>
        </ion-item>
      </ion-col>

      <ion-col [size]="isMobile ? '4' : '12'" [sizeMd]="4" [class]="isMobile ? 'ion-no-padding' : 'ion-padding'">
        <ion-item lines="none" class="ion-text-center feature-item" style="--background: transparent; margin: 2px;">
          <ion-label>
            <ion-icon color="primary" name="analytics"
              [style]="{'font-size': isMobile ? '2em' : '3em', 'margin-bottom': isMobile ? '0' : '16px'}"></ion-icon>
            <h2
              [style]="{'font-size': isMobile ? '1em' : '1.2em', 'font-weight': '600', 'margin': isMobile ? '4px 0' : '8px 0'}">
              Smart Analysis</h2>
            <p
              [style]="{'color': 'var(--ion-color-medium)', 'font-size': isMobile ? '0.8em' : '1em', 'margin': isMobile ? '0' : '8px 0'}">
              @if (isMobile) {
              AI Analysis
              } @else {
              State-of-the-art AI document analysis
              }
            </p>
          </ion-label>
        </ion-item>
      </ion-col>

      <ion-col [size]="isMobile ? '4' : '12'" [sizeMd]="4" [class]="isMobile ? 'ion-no-padding' : 'ion-padding'">
        <ion-item lines="none" class="ion-text-center feature-item" style="--background: transparent; margin: 2px;">
          <ion-label>
            <ion-icon color="tertiary" name="phone-portrait"
              [style]="{'font-size': isMobile ? '2em' : '3em', 'margin-bottom': isMobile ? '0' : '16px'}"></ion-icon>
            <h2
              [style]="{'font-size': isMobile ? '1em' : '1.2em', 'font-weight': '600', 'margin': isMobile ? '4px 0' : '8px 0'}">
              Mobile Ready</h2>
            <p
              [style]="{'color': 'var(--ion-color-medium)', 'font-size': isMobile ? '0.8em' : '1em', 'margin': isMobile ? '0' : '8px 0'}">
              @if (isMobile) {
              Cross-platform
              } @else {
              Access from any device, anywhere
              }
            </p>
          </ion-label>
        </ion-item>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- Action Buttons -->
  <div class="ion-text-center" [style]="{'padding': isMobile ? '8px 0' : '24px 0'}">
    @if (isLoggedIn$ | async) {
    <ion-button size="large" [routerLink]="['/file-upload']"
      [style]="{'--border-radius': isMobile ? '8px' : '12px', 'height': isMobile ? '48px' : '56px', 'margin': isMobile ? '8px 0' : '16px 0', '--box-shadow': !isMobile ? '0 4px 12px rgba(var(--ion-color-primary-rgb), 0.3)' : 'none'}">
      <ion-icon slot="start" name="cloud-upload" [style]="{'font-size': isMobile ? '20px' : '24px'}"></ion-icon>
      Upload Document
    </ion-button>
    <div [style]="{'margin-top': isMobile ? '8px' : '16px'}">
      <ion-button [size]="isMobile ? 'default' : 'large'" fill="outline" class="ion-margin-end"
        [routerLink]="['/reports']" [style]="{'--border-radius': isMobile ? '8px' : '12px'}">
        <ion-icon slot="start" name="document-text"></ion-icon>
        @if (isMobile) {
        Reports
        } @else {
        View Reports
        }
      </ion-button>
      <ion-button [size]="isMobile ? 'default' : 'large'" fill="outline" [routerLink]="['/pricing']"
        [style]="{'--border-radius': isMobile ? '8px' : '12px'}">
        <ion-icon slot="start" name="flash"></ion-icon>
        @if (isMobile) {
        Upgrade
        } @else {
        Upgrade Plan
        }
      </ion-button>
    </div>
    } @else {
    <ion-button size="large" (click)="navigateToLogin()"
      [style]="{'--border-radius': isMobile ? '8px' : '12px', 'height': isMobile ? '48px' : '56px', 'margin': isMobile ? '8px 0' : '16px 0', '--box-shadow': !isMobile ? '0 4px 12px rgba(var(--ion-color-primary-rgb), 0.3)' : 'none'}">
      <ion-icon slot="start" name="rocket" [style]="{'font-size': isMobile ? '20px' : '24px'}"></ion-icon>
      Get Started - It's Free
    </ion-button>
    <div [style]="{'margin-top': isMobile ? '8px' : '16px'}">
      <ion-button [size]="isMobile ? 'default' : 'large'" fill="outline" [routerLink]="['/pricing']"
        [style]="{'--border-radius': isMobile ? '8px' : '12px'}">
        <ion-icon slot="start" name="pricetag"></ion-icon>
        @if (isMobile) {
        View Plans
        } @else {
        View Pricing Plans
        }
      </ion-button>
    </div>
    }
  </div>

  <!-- Trust Indicators -->
  <ion-card
    [style]="{'border-radius': '12px', 'background': 'rgba(var(--ion-color-light-rgb), 0.7)', 'margin': '0', 'margin-bottom': isMobile ? '8px' : '24px', 'margin-left': isMobile ? '16px' : '25%', 'margin-right': isMobile ? '16px' : '25%'  }">
    <ion-card-content [style]="{'padding': isMobile ? '8px' : '24px'}">
      @if (!isMobile) {
      <ion-text color="medium" class="ion-text-center">
        <h2 style="font-size: 1.2em; font-weight: 600; margin-bottom: 24px;">Enterprise Security</h2>
      </ion-text>
      }
      <ion-grid [style]="{'padding': '0'}">
        <ion-row class="ion-justify-content-center ion-align-items-center">
          <ion-col [size]="isMobile ? '4' : '12'" [sizeMd]="4" class="ion-text-center"
            [style]="{'padding': isMobile ? '4px' : '12px'}">
            <ion-chip outline color="medium"
              [style]="{'height': isMobile ? '24px' : '40px', 'padding': isMobile ? '0 6px' : '0 16px'}">
              <ion-icon name="shield-checkmark" [style]="{'font-size': isMobile ? '12px' : '20px'}"></ion-icon>
              <ion-label
                [style]="{'font-size': isMobile ? '0.75em' : '1em', 'margin-inline': isMobile ? '4px' : '8px'}">256-bit
                SSL</ion-label>
            </ion-chip>
          </ion-col>
          <ion-col [size]="isMobile ? '4' : '12'" [sizeMd]="4" class="ion-text-center"
            [style]="{'padding': isMobile ? '4px' : '12px'}">
            <ion-chip outline color="medium"
              [style]="{'height': isMobile ? '24px' : '40px', 'padding': isMobile ? '0 6px' : '0 16px'}">
              <ion-icon name="lock-closed" [style]="{'font-size': isMobile ? '12px' : '20px'}"></ion-icon>
              <ion-label
                [style]="{'font-size': isMobile ? '0.75em' : '1em', 'margin-inline': isMobile ? '4px' : '8px'}">
                @if (isMobile) {
                Zero-Trust
                } @else {
                Zero-Trust Security
                }
              </ion-label>
            </ion-chip>
          </ion-col>
          <ion-col [size]="isMobile ? '4' : '12'" [sizeMd]="4" class="ion-text-center"
            [style]="{'padding': isMobile ? '4px' : '12px'}">
            <ion-chip outline color="medium"
              [style]="{'height': isMobile ? '24px' : '40px', 'padding': isMobile ? '0 6px' : '0 16px'}">
              <ion-icon name="cloud-done" [style]="{'font-size': isMobile ? '12px' : '20px'}"></ion-icon>
              <ion-label
                [style]="{'font-size': isMobile ? '0.75em' : '1em', 'margin-inline': isMobile ? '4px' : '8px'}">
                @if (isMobile) {
                Cloud Protected
                } @else {
                Enterprise Cloud Security
                }
              </ion-label>
            </ion-chip>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
</ion-content>
